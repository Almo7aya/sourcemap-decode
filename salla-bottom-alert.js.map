{"file":"salla-bottom-alert.js","mappings":"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","names":["SallaBottomAlert"],"sources":["./src/components/salla-bottom-alert/salla-bottom-alert.scss?tag=salla-bottom-alert","./src/components/salla-bottom-alert/salla-bottom-alert.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, h, Element, Prop, State } from '@stencil/core';\nimport infoIcon from '../../assets/svg/info.svg';\nimport shoppingBag from '../../assets/svg/shopping-bag2.svg';\n@Component({\n  tag: 'salla-bottom-alert',\n  styleUrl: 'salla-bottom-alert.scss',\n})\nexport class SallaBottomAlert {\n  constructor() {\n    salla.lang.onLoaded(() => {\n      this.defaultMessage = salla.lang.get('common.elements.experimental_and_available_store');\n      this.defaultActionLabel = salla.lang.get('common.elements.know_more');\n      this.storeFeatures = salla.lang.get('common.elements.store_features');\n      this.storeDetails = salla.lang.get('common.elements.store_details');\n      this.templateInformation = salla.lang.get('common.elements.template_information');\n      this.buyTheTemplate = salla.lang.get('common.elements.buy_the_template');\n    });\n  }\n\n  private modal: HTMLSallaModalElement;\n  @Element() host: HTMLElement;\n\n  @State() storeId: string = salla.config.get('store.id')\n  @State() loading: boolean = false\n  @State() templateData: any = {}\n  @State() defaultMessage: string = salla.lang.get('common.elements.experimental_and_available_store');\n  @State() defaultActionLabel: string = salla.lang.get('common.elements.know_more');\n  @State() storeFeatures: string = salla.lang.get('common.elements.store_features');\n  @State() storeDetails: string = salla.lang.get('common.elements.store_details');\n  @State() templateInformation: string = salla.lang.get('common.elements.template_information');\n  @State() buyTheTemplate: string = salla.lang.get('common.elements.buy_the_template');\n  /**\n   * Alert Type\n   * */\n  @Prop({ reflect: true }) type: 'link' | 'popup' | 'banner' = 'popup';\n\n  /**\n   * Alert Icon class from salla icons library - ex: sicon-user\n   * */\n  @Prop({ reflect: true }) icon: string;\n\n  /**\n   * Alert Message\n   * */\n  @Prop({ reflect: true }) message: string;\n\n  /**\n   * Button url - used when type is link\n   * */\n  @Prop({ reflect: true }) actionUrl: string;\n\n  /**\n   * Button label - used when type is link and popup\n   * */\n  @Prop({ reflect: true }) actionLabel: string;\n\n  private open() {\n    return this.modal.open()\n      .then(() => this.handleTemplateRequest())\n  }\n\n  private handleTemplateRequest() {\n    if (Object.keys(this.templateData).length) {\n      return;\n    }\n    this.modal.loading()\n    return salla.api.request(`/store/template`, {}, 'get', { 'Store-Identifier': this.storeId })\n      .then((res) => {\n        this.modal.setTitle(this.templateInformation)\n        this.templateData = res.data\n        this.modal.stopLoading()\n      })\n      .catch(() => {\n        this.modal.close()\n      })\n  }\n\n  private handleAction() {\n    if (this.type === 'link') {\n      window.location.href = this.actionUrl;\n    }\n\n    if (this.type === 'popup') {\n      this.open()\n    }\n  }\n\n  popup() {\n    return (\n      <salla-modal class=\"s-bottom-alert-modal\" ref={modal => this.modal = modal} no-padding>\n        {Object.keys(this.templateData).length ?\n          [<div class=\"s-bottom-alert-modal-inner s-scrollbar\">\n            {Array.isArray(this.templateData?.screenshots) && this.templateData?.screenshots?.length ? <div class=\"s-bottom-alert-modal-cover\">\n              <img src={this.templateData?.screenshots[0]} alt=\"\" />\n            </div> : ''}\n            <div class=\"s-bottom-alert-modal-content\">\n              {this.templateData?.description ?\n                [<div class=\"s-bottom-alert-modal-content-title\">\n                  {this.storeDetails}\n                </div>,\n                <div class=\"s-bottom-alert-modal-content-description\" innerHTML={this.templateData?.description}></div>,\n                <hr />\n                ] : ''}\n              {this.templateData?.features ? [<div class=\"s-bottom-alert-modal-content-title\">\n                {this.storeFeatures}\n              </div>,\n              <div class=\"s-bottom-alert-modal-content-features\" innerHTML={this.templateData?.features}></div>\n              ] : ''}\n              {Array.isArray(this.templateData?.screenshots) && this.templateData?.screenshots?.length > 1 ?\n                <salla-slider id='template-screenshots' type='carousel' class=\"s-bottom-alert-modal-content-screenshots\">\n                  <div slot='items'>\n                    {this.templateData?.screenshots.map((screenshot) => {\n                      return <div class=\"s-bottom-alert-modal-content-screenshot\">\n                        <img src={screenshot} alt=\"\" />\n                      </div>\n                    })}\n                  </div>\n                </salla-slider>\n                : ''}\n\n              {this.templateData?.extra_info ?\n                <div class=\"s-bottom-alert-modal-content-description\" innerHTML={this.templateData?.description}></div>\n                : ''}\n\n              {this.templateData?.link ?\n                <div class=\"s-bottom-alert-modal-content-footer\">\n                  <salla-button\n                    color='primary'\n                    size=\"medium\"\n                    width='wide'\n                    href={this.templateData?.link}\n                  >\n                    <i innerHTML={shoppingBag}></i>\n                    {this.buyTheTemplate} \n                  </salla-button>\n                </div> : ''\n              }\n\n            </div>\n          </div>] : ''\n        }\n\n      </salla-modal>\n    )\n  }\n  render() {\n    return (\n      <Host class=\"s-bottom-alert-wrapper\">\n        <div class=\"s-bottom-alert-content\">\n          <div class=\"s-bottom-alert-icon\">\n            {this.icon ? <i class={this.icon}></i> : <i innerHTML={infoIcon}></i>}\n          </div>\n          <div class=\"s-bottom-alert-message\">\n            {this.message ? this.message : this.defaultMessage}\n          </div>\n          {this.type !== 'banner' ? (\n            <div class=\"s-bottom-alert-action\">\n              <salla-button\n                href={this.actionUrl}\n                size=\"medium\"\n                onClick={() => this.handleAction()}\n                width=\"normal\"\n              >\n                {this.actionLabel ? this.actionLabel : this.defaultActionLabel}\n              </salla-button>\n            </div>\n          ) : null}\n          {\n            this.type === 'popup' ? this.popup() : null\n          }\n        </div>\n      </Host>\n    );\n  }\n\n}\n"],"version":3}